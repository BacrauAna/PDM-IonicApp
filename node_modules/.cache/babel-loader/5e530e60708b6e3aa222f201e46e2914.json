{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Anisoara Bacrau\\\\Desktop\\\\an3\\\\PDM\\\\ionic\\\\PDM-IonicApp\\\\src\\\\todo\\\\BeautyEdit.tsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { IonButton, IonButtons, IonContent, IonHeader, IonItem, IonInput, IonLabel, IonLoading, IonCheckbox, IonPage, IonTitle, IonToolbar, IonFab, IonFabButton, IonIcon, IonImg, createAnimation } from '@ionic/react';\nimport { getLogger } from '../core';\nimport { BeautyContext } from './BeautyProvider';\nimport { useNetwork } from \"../utils/useNetwork\";\nimport { usePhotoGallery } from \"../utils/usePhotoGallery\";\nimport { camera } from \"ionicons/icons\";\nimport { MyMap } from \"../utils/MyMap\";\nconst log = getLogger('BeautyEdit');\n\nconst BeautyEdit = ({\n  history,\n  match\n}) => {\n  const {\n    beauties,\n    saving,\n    savingError,\n    saveBeauty,\n    deleteBeauty,\n    getServerBeauty,\n    oldBeauty\n  } = useContext(BeautyContext);\n  const [data, setData] = useState('');\n  const [ora, setOra] = useState('');\n  const [servicii, setServicii] = useState('');\n  const [nrPersoane, setNrPersoane] = useState(0);\n  const [nume, setNume] = useState('');\n  const [ocupat, setOcupat] = useState(false);\n  const [photoPath, setPhotoPath] = useState('');\n  const [latitude, setLatitude] = useState(46.752883);\n  const [longitude, setLongitude] = useState(23.598593);\n  const [beauty, setBeauty] = useState();\n  const [beauty2, setBeauty2] = useState();\n  const {\n    networkStatus\n  } = useNetwork();\n  const {\n    takePhoto\n  } = usePhotoGallery();\n  useEffect(() => {\n    log('useEffect');\n    const routeId = match.params.id || \"\";\n    const beauty = beauties === null || beauties === void 0 ? void 0 : beauties.find(it => it._id === routeId);\n    setBeauty(beauty);\n\n    if (beauty) {\n      setData(beauty.data);\n      setOra(beauty.ora);\n      setServicii(beauty.servicii);\n      setNrPersoane(beauty.nrPersoane);\n      setNume(beauty.nume);\n      setOcupat(beauty.ocupat);\n      setPhotoPath(beauty.photoPath);\n      if (beauty.latitude) setLatitude(beauty.latitude);\n      if (beauty.longitude) setLongitude(beauty.longitude);\n    }\n  }, [match.params.id, beauties, getServerBeauty]);\n  useEffect(() => {\n    setBeauty2(oldBeauty);\n    log(\"OLD BEAUTY: \" + JSON.stringify(oldBeauty));\n  }, [oldBeauty]);\n\n  const handleSave = () => {\n    const editedBeauty = beauty ? { ...beauty,\n      data,\n      ora,\n      servicii,\n      nrPersoane,\n      nume,\n      ocupat,\n      photoPath,\n      latitude,\n      longitude,\n      status: 0\n    } : {\n      data,\n      ora,\n      servicii,\n      nrPersoane,\n      nume,\n      ocupat,\n      photoPath,\n      latitude,\n      longitude,\n      status: 0\n    };\n    saveBeauty && saveBeauty(editedBeauty, networkStatus.connected).then(() => {\n      log(JSON.stringify(beauty2));\n      if (beauty2 === undefined) history.goBack();\n    });\n  };\n\n  const handleDelete = () => {\n    const editedBeauty = beauty ? { ...beauty,\n      data,\n      ora,\n      servicii,\n      nrPersoane,\n      nume,\n      ocupat,\n      photoPath,\n      latitude,\n      longitude,\n      status: 0\n    } : {\n      data,\n      ora,\n      servicii,\n      nrPersoane,\n      nume,\n      ocupat,\n      photoPath,\n      latitude,\n      longitude,\n      status: 0\n    };\n    deleteBeauty && deleteBeauty(editedBeauty, networkStatus.connected).then(() => history.goBack());\n  };\n\n  function chainAnimations() {\n    const label1 = document.querySelector('.label1');\n    const label2 = document.querySelector('.label2');\n    const label3 = document.querySelector('.label3');\n    const label4 = document.querySelector('.label4');\n    const label5 = document.querySelector('.label5');\n    const elem2 = document.querySelector('.checkBox');\n\n    if (label1 && label2 && label3 && label4 && label5 && elem2) {\n      const animation1 = createAnimation().addElement(Array.of(label1, label2, label3, label4, label5)).duration(200).direction(\"alternate\").iterations(3).fromTo('transform', 'rotate(0)', 'rotate(20deg)').fromTo('transform', 'rotate(20deg)', 'rotate(0)');\n      const animation2 = createAnimation().addElement(elem2).duration(500).fromTo('transform', 'scale(1)', 'scale(0.9)');\n\n      (async () => {\n        await animation1.play();\n        await animation2.play();\n      })();\n    }\n  }\n\n  useEffect(chainAnimations, []); //log('render');\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(IonButton, {\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, \"Delete\")))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 45\n    }\n  }, \"Data(LL/ZZ/AAAA): \")), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: data,\n    onIonChange: e => setData(e.detail.value || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 45\n    }\n  }, \"Ora(HH:mm): \")), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: ora,\n    onIonChange: e => setOra(e.detail.value || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 45\n    }\n  }, \"Servicii: \")), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: servicii,\n    onIonChange: e => setServicii(e.detail.value || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 45\n    }\n  }, \"Nr. persoane: \")), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: nrPersoane,\n    onIonChange: e => setNrPersoane(Number(e.detail.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 45\n    }\n  }, \"Nume: \")), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: nume,\n    onIonChange: e => setNume(e.detail.value || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, \"Ocupat: \"), /*#__PURE__*/React.createElement(IonCheckbox, {\n    checked: ocupat,\n    onIonChange: e => setOcupat(e.detail.checked),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }))), beauty2 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, \"Data(LL/ZZ/AAAA): \"), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: beauty2.data,\n    onIonChange: e => setData(e.detail.value || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }, \"Ora(HH:mm): \"), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: beauty2.ora,\n    onIonChange: e => setOra(e.detail.value || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 25\n    }\n  }, \"Servicii: \"), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: beauty2.servicii,\n    onIonChange: e => setServicii(e.detail.value || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 25\n    }\n  }, \"Nr. persoane: \"), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: beauty2.nrPersoane,\n    onIonChange: e => setNrPersoane(Number(e.detail.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 25\n    }\n  }, \"Nume: \"), /*#__PURE__*/React.createElement(IonInput, {\n    className: \"inputField\",\n    value: beauty2.nume,\n    onIonChange: e => setNume(e.detail.value || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 25\n    }\n  }, \"Ocupat: \"), /*#__PURE__*/React.createElement(IonCheckbox, {\n    checked: beauty2.ocupat,\n    onIonChange: e => setOcupat(e.detail.checked),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(IonLoading, {\n    isOpen: saving,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }), savingError && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, savingError.message || 'Failed to save beauty'), /*#__PURE__*/React.createElement(IonImg, {\n    style: {\n      width: \"600px\",\n      height: \"600px\",\n      margin: \"0 auto\"\n    },\n    alt: \"No photo\",\n    src: photoPath,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(MyMap, {\n    lat: latitude,\n    lng: longitude,\n    onMapClick: location => {\n      setLatitude(location.latLng.lat());\n      setLongitude(location.latLng.lng());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IonFab, {\n    vertical: \"bottom\",\n    horizontal: \"end\",\n    slot: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    onClick: () => {\n      const photoTaken = takePhoto();\n      photoTaken.then(data => {\n        setPhotoPath(data.webviewPath);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: camera,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default BeautyEdit;","map":{"version":3,"sources":["C:/Users/Anisoara Bacrau/Desktop/an3/PDM/ionic/PDM-IonicApp/src/todo/BeautyEdit.tsx"],"names":["React","useContext","useEffect","useState","IonButton","IonButtons","IonContent","IonHeader","IonItem","IonInput","IonLabel","IonLoading","IonCheckbox","IonPage","IonTitle","IonToolbar","IonFab","IonFabButton","IonIcon","IonImg","createAnimation","getLogger","BeautyContext","useNetwork","usePhotoGallery","camera","MyMap","log","BeautyEdit","history","match","beauties","saving","savingError","saveBeauty","deleteBeauty","getServerBeauty","oldBeauty","data","setData","ora","setOra","servicii","setServicii","nrPersoane","setNrPersoane","nume","setNume","ocupat","setOcupat","photoPath","setPhotoPath","latitude","setLatitude","longitude","setLongitude","beauty","setBeauty","beauty2","setBeauty2","networkStatus","takePhoto","routeId","params","id","find","it","_id","JSON","stringify","handleSave","editedBeauty","status","connected","then","undefined","goBack","handleDelete","chainAnimations","label1","document","querySelector","label2","label3","label4","label5","elem2","animation1","addElement","Array","of","duration","direction","iterations","fromTo","animation2","play","e","detail","value","Number","checked","message","width","height","margin","location","latLng","lat","lng","photoTaken","webviewPath"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport {\r\n    IonButton,\r\n    IonButtons,\r\n    IonContent,\r\n    IonHeader,\r\n    IonItem,\r\n    IonInput,\r\n    IonLabel,\r\n    IonLoading,\r\n    IonCheckbox,\r\n    IonPage,\r\n    IonTitle,\r\n    IonToolbar,\r\n    IonFab,\r\n    IonFabButton, IonIcon, IonImg, createAnimation\r\n} from '@ionic/react';\r\nimport { getLogger } from '../core';\r\nimport { BeautyContext } from './BeautyProvider';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { BeautyProps } from './BeautyProps';\r\nimport { useNetwork } from \"../utils/useNetwork\";\r\nimport {usePhotoGallery} from \"../utils/usePhotoGallery\";\r\nimport {camera} from \"ionicons/icons\";\r\nimport {MyMap} from \"../utils/MyMap\";\r\n\r\nconst log = getLogger('BeautyEdit');\r\n\r\ninterface BeautyEditProps extends RouteComponentProps<{\r\n    id?: string;\r\n}> {}\r\n\r\nconst BeautyEdit: React.FC<BeautyEditProps> = ({ history, match }) => {\r\n    const { beauties, saving, savingError, saveBeauty, deleteBeauty, getServerBeauty, oldBeauty } = useContext(BeautyContext);\r\n    const [data, setData] = useState('');\r\n    const [ora, setOra] = useState('');\r\n    const [servicii, setServicii] = useState('');\r\n    const [nrPersoane, setNrPersoane] = useState(0);\r\n    const [nume, setNume] = useState('');\r\n    const [ocupat, setOcupat] = useState(false);\r\n    const [photoPath, setPhotoPath] = useState('');\r\n    const [latitude, setLatitude] = useState(46.752883);\r\n    const [longitude, setLongitude] = useState(23.598593);\r\n    const [beauty, setBeauty] = useState<BeautyProps>();\r\n    const [beauty2, setBeauty2] = useState<BeautyProps>();\r\n    const { networkStatus } = useNetwork();\r\n    const { takePhoto } = usePhotoGallery();\r\n\r\n    useEffect(() => {\r\n        log('useEffect');\r\n        const routeId = match.params.id || \"\";\r\n        const beauty = beauties?.find(it => it._id === routeId);\r\n        setBeauty(beauty);\r\n        if (beauty) {\r\n            setData(beauty.data);\r\n            setOra(beauty.ora);\r\n            setServicii(beauty.servicii);\r\n            setNrPersoane(beauty.nrPersoane);\r\n            setNume(beauty.nume);\r\n            setOcupat(beauty.ocupat)\r\n            setPhotoPath(beauty.photoPath)\r\n            if (beauty.latitude) setLatitude(beauty.latitude);\r\n            if (beauty.longitude) setLongitude(beauty.longitude);\r\n        }\r\n    }, [match.params.id, beauties, getServerBeauty]);\r\n\r\n    useEffect(() => {\r\n        setBeauty2(oldBeauty);\r\n        log(\"OLD BEAUTY: \" + JSON.stringify(oldBeauty));\r\n    }, [oldBeauty]);\r\n\r\n    const handleSave = () => {\r\n        const editedBeauty = beauty\r\n            ? { ...beauty, data,ora,servicii,nrPersoane,nume,ocupat, photoPath, latitude, longitude, status: 0 }\r\n            : { data,ora,servicii,nrPersoane,nume,ocupat, photoPath, latitude, longitude, status: 0 };\r\n        saveBeauty && saveBeauty(editedBeauty, networkStatus.connected).then(() => {\r\n            log(JSON.stringify(beauty2));\r\n            if (beauty2 === undefined) history.goBack()\r\n        });\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        const editedBeauty = beauty\r\n            ? { ...beauty, data,ora,servicii,nrPersoane,nume,ocupat,photoPath, latitude, longitude, status: 0 }\r\n            : { data,ora,servicii,nrPersoane,nume,ocupat,photoPath, latitude, longitude, status: 0};\r\n        deleteBeauty && deleteBeauty(editedBeauty, networkStatus.connected).then(() => history.goBack());\r\n    };\r\n\r\n    function chainAnimations() {\r\n        const label1 = document.querySelector('.label1');\r\n        const label2 = document.querySelector('.label2');\r\n        const label3 = document.querySelector('.label3');\r\n        const label4 = document.querySelector('.label4');\r\n        const label5 = document.querySelector('.label5');\r\n        const elem2 = document.querySelector('.checkBox');\r\n        if (label1 && label2 && label3 && label4 && label5 && elem2) {\r\n            const animation1 = createAnimation()\r\n                .addElement(Array.of(label1, label2, label3, label4, label5))\r\n                .duration(200)\r\n                .direction(\"alternate\")\r\n                .iterations(3)\r\n                .fromTo('transform', 'rotate(0)', 'rotate(20deg)')\r\n                .fromTo('transform', 'rotate(20deg)', 'rotate(0)');\r\n\r\n            const animation2= createAnimation()\r\n                .addElement(elem2)\r\n                .duration(500)\r\n                .fromTo('transform', 'scale(1)', 'scale(0.9)');\r\n            (async () => {\r\n                await animation1.play();\r\n                await animation2.play();\r\n            })();\r\n        }\r\n    }\r\n    useEffect(chainAnimations, []);\r\n\r\n    //log('render');\r\n    return (\r\n        <IonPage>\r\n            <IonHeader>\r\n                <IonToolbar>\r\n                    <IonTitle>Edit</IonTitle>\r\n                    <IonButtons slot=\"end\">\r\n                        <IonButton onClick={handleSave}>\r\n                            Save\r\n                        </IonButton>\r\n                        <IonButton onClick={handleDelete}>\r\n                            Delete\r\n                        </IonButton>\r\n                    </IonButtons>\r\n                </IonToolbar>\r\n            </IonHeader>\r\n            <IonContent>\r\n                <IonItem>\r\n                    <div className=\"label1\"><IonLabel>Data(LL/ZZ/AAAA): </IonLabel></div>\r\n                    <IonInput\r\n                        className=\"inputField\"\r\n                        value={data}\r\n                        onIonChange={(e) => setData(e.detail.value || \"\")}\r\n                    />\r\n                </IonItem>\r\n                <IonItem>\r\n                    <div className=\"label2\"><IonLabel>Ora(HH:mm): </IonLabel></div>\r\n                    <IonInput\r\n                        className=\"inputField\"\r\n                        value={ora}\r\n                        onIonChange={(e) => setOra(e.detail.value || \"\")}\r\n                    />\r\n                </IonItem>\r\n                <IonItem>\r\n                    <div className=\"label3\"><IonLabel>Servicii: </IonLabel></div>\r\n                    <IonInput\r\n                        className=\"inputField\"\r\n                        value={servicii}\r\n                        onIonChange={(e) => setServicii(e.detail.value || \"\")}\r\n                    />\r\n                </IonItem>\r\n                <IonItem>\r\n                    <div className=\"label4\"><IonLabel>Nr. persoane: </IonLabel></div>\r\n                    <IonInput\r\n                        className=\"inputField\"\r\n                        value={nrPersoane}\r\n                        onIonChange={(e) => setNrPersoane(Number(e.detail.value))}\r\n                    />\r\n                </IonItem>\r\n                <IonItem>\r\n                    <div className=\"label5\"><IonLabel>Nume: </IonLabel></div>\r\n                    <IonInput\r\n                        className=\"inputField\"\r\n                        value={nume}\r\n                        onIonChange={(e) => setNume(e.detail.value || \"\")}\r\n                    />\r\n                </IonItem>\r\n                <div className=\"checkBox\">\r\n                <IonItem>\r\n                    <IonLabel>Ocupat: </IonLabel>\r\n                    <IonCheckbox\r\n                        checked={ocupat}\r\n                        onIonChange={(e) => setOcupat(e.detail.checked)}\r\n                    />\r\n                </IonItem>\r\n                </div>\r\n\r\n                {beauty2 && (\r\n                    <>\r\n                    <IonItem>\r\n                        <IonLabel>Data(LL/ZZ/AAAA): </IonLabel>\r\n                        <IonInput\r\n                            className=\"inputField\"\r\n                            value={beauty2.data}\r\n                            onIonChange={(e) => setData(e.detail.value || \"\")}\r\n                        />\r\n                    </IonItem>\r\n                    <IonItem>\r\n                        <IonLabel>Ora(HH:mm): </IonLabel>\r\n                        <IonInput\r\n                            className=\"inputField\"\r\n                            value={beauty2.ora}\r\n                            onIonChange={(e) => setOra(e.detail.value || \"\")}\r\n                        />\r\n                    </IonItem>\r\n                    <IonItem>\r\n                        <IonLabel>Servicii: </IonLabel>\r\n                        <IonInput\r\n                            className=\"inputField\"\r\n                            value={beauty2.servicii}\r\n                            onIonChange={(e) => setServicii(e.detail.value || \"\")}\r\n                        />\r\n                    </IonItem>\r\n                    <IonItem>\r\n                        <IonLabel>Nr. persoane: </IonLabel>\r\n                        <IonInput\r\n                            className=\"inputField\"\r\n                            value={beauty2.nrPersoane}\r\n                            onIonChange={(e) => setNrPersoane(Number(e.detail.value))}\r\n                        />\r\n                    </IonItem>\r\n                    <IonItem>\r\n                        <IonLabel>Nume: </IonLabel>\r\n                        <IonInput\r\n                            className=\"inputField\"\r\n                            value={beauty2.nume}\r\n                            onIonChange={(e) => setNume(e.detail.value || \"\")}\r\n                        />\r\n                    </IonItem>\r\n                    <IonItem>\r\n                        <IonLabel>Ocupat: </IonLabel>\r\n                        <IonCheckbox\r\n                            checked={beauty2.ocupat}\r\n                            onIonChange={(e) => setOcupat(e.detail.checked)}\r\n                        />\r\n                    </IonItem>\r\n                    </>\r\n                )}\r\n                <IonLoading isOpen={saving} />\r\n                {savingError && (\r\n                    <div>{savingError.message || 'Failed to save beauty'}</div>\r\n                )}\r\n                <IonImg\r\n                    style={{width: \"600px\", height: \"600px\", margin: \"0 auto\"}}\r\n                    alt={\"No photo\"}\r\n                    src={photoPath}\r\n                />\r\n                <MyMap\r\n                    lat={latitude}\r\n                    lng={longitude}\r\n                    onMapClick={(location: any) => {\r\n                        setLatitude(location.latLng.lat());\r\n                        setLongitude(location.latLng.lng());\r\n                    }}\r\n                />\r\n                <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\r\n                    <IonFabButton\r\n                        onClick={() => {\r\n                            const photoTaken = takePhoto();\r\n                            photoTaken.then((data) => {\r\n                                setPhotoPath(data.webviewPath!);\r\n                            });\r\n                        }}\r\n                    >\r\n                        <IonIcon icon={camera}/>\r\n                    </IonFabButton>\r\n                </IonFab>\r\n            </IonContent>\r\n        </IonPage>\r\n    );\r\n};\r\nexport default BeautyEdit;\r\n\r\n"]},"metadata":{},"sourceType":"module"}