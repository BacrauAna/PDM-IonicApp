{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Anisoara Bacrau\\\\Desktop\\\\an3\\\\PDM\\\\ionic\\\\PDM-IonicApp\\\\src\\\\todo\\\\ItemEdit.tsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { IonButton, IonButtons, IonContent, IonHeader, IonInput, IonLoading, IonPage, IonTitle, IonToolbar, IonLabel } from '@ionic/react';\nimport { getLogger } from '../core';\nimport { ItemContext } from './ItemProvider';\n//import set = Reflect.set;\nconst log = getLogger('ItemEdit');\n\nconst ItemEdit = ({\n  history,\n  match\n}) => {\n  const {\n    items,\n    saving,\n    savingError,\n    saveItem\n  } = useContext(ItemContext); //const [text, setText] = useState('');\n\n  const [data, setData] = useState('');\n  const [ora, setOra] = useState('');\n  const [serv, setServ] = useState('');\n  const [nrPer, setNrP] = useState('');\n  const [num, setNum] = useState('');\n  const [lib, setLib] = useState('');\n  const [item, setItem] = useState();\n  useEffect(() => {\n    log('useEffect');\n    const routeId = match.params.id || '';\n    const item = items === null || items === void 0 ? void 0 : items.find(it => it.id === routeId);\n    setItem(item);\n\n    if (item) {\n      setData(item.data);\n      setOra(item.ora);\n      setServ(item.serv);\n      setNrP(item.nrPer);\n      setNum(item.num);\n      setLib(item.lib);\n    }\n  }, [match.params.id, items]);\n\n  const handleSave = () => {\n    const editedItem = item ? { ...item,\n      data,\n      ora,\n      serv,\n      nrPer,\n      num,\n      lib\n    } : {\n      data,\n      ora,\n      serv,\n      nrPer,\n      num,\n      lib\n    };\n    saveItem && saveItem(editedItem).then(() => history.goBack());\n  };\n\n  log('render');\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Data(LL/ZZ/AAAA) -> \", /*#__PURE__*/React.createElement(IonInput, {\n    value: data,\n    onIonChange: e => setData(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 47\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 129\n    }\n  }), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Ora(HH:MM) -> \", /*#__PURE__*/React.createElement(IonInput, {\n    value: ora,\n    onIonChange: e => setOra(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 121\n    }\n  }), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Serviciul -> \", /*#__PURE__*/React.createElement(IonInput, {\n    value: serv,\n    onIonChange: e => setServ(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 40\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 122\n    }\n  }), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Numarul Persoanelor -> \", /*#__PURE__*/React.createElement(IonInput, {\n    value: nrPer,\n    onIonChange: e => setNrP(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 50\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 132\n    }\n  }), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Numele -> \", /*#__PURE__*/React.createElement(IonInput, {\n    value: num,\n    onIonChange: e => setNum(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 117\n    }\n  }), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Liber(True/False) -> \", /*#__PURE__*/React.createElement(IonInput, {\n    value: lib,\n    onIonChange: e => setLib(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 48\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 128\n    }\n  }), /*#__PURE__*/React.createElement(IonLoading, {\n    isOpen: saving,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }), savingError && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, savingError.message || 'Failed to save item')));\n};\n\nexport default ItemEdit;","map":{"version":3,"sources":["C:/Users/Anisoara Bacrau/Desktop/an3/PDM/ionic/PDM-IonicApp/src/todo/ItemEdit.tsx"],"names":["React","useContext","useEffect","useState","IonButton","IonButtons","IonContent","IonHeader","IonInput","IonLoading","IonPage","IonTitle","IonToolbar","IonLabel","getLogger","ItemContext","log","ItemEdit","history","match","items","saving","savingError","saveItem","data","setData","ora","setOra","serv","setServ","nrPer","setNrP","num","setNum","lib","setLib","item","setItem","routeId","params","id","find","it","handleSave","editedItem","then","goBack","e","detail","value","message"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport {\r\n    IonButton,\r\n    IonButtons,\r\n    IonContent,\r\n    IonHeader,\r\n    IonInput,\r\n    IonLoading,\r\n    IonPage,\r\n    IonTitle,\r\n    IonToolbar,\r\n    IonLabel\r\n} from '@ionic/react';\r\nimport { getLogger } from '../core';\r\nimport { ItemContext } from './ItemProvider';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { ItemProps } from './ItemProps';\r\n//import set = Reflect.set;\r\n\r\nconst log = getLogger('ItemEdit');\r\n\r\ninterface ItemEditProps extends RouteComponentProps<{\r\n    id?: string;\r\n}> {}\r\n\r\nconst ItemEdit: React.FC<ItemEditProps> = ({ history, match }) => {\r\n    const { items, saving, savingError, saveItem } = useContext(ItemContext);\r\n    //const [text, setText] = useState('');\r\n    const [data, setData] = useState('');\r\n    const [ora, setOra] = useState('');\r\n    const [serv, setServ] = useState('');\r\n    const [nrPer, setNrP] = useState('')\r\n    const [num, setNum] = useState('');\r\n    const [lib, setLib] = useState('');\r\n    const [item, setItem] = useState<ItemProps>();\r\n    useEffect(() => {\r\n        log('useEffect');\r\n        const routeId = match.params.id || '';\r\n        const item = items?.find(it => it.id === routeId);\r\n        setItem(item);\r\n        if (item) {\r\n            setData(item.data);\r\n            setOra(item.ora);\r\n            setServ(item.serv);\r\n            setNrP(item.nrPer);\r\n            setNum(item.num);\r\n            setLib(item.lib);\r\n        }\r\n    }, [match.params.id, items]);\r\n    const handleSave = () => {\r\n        const editedItem = item ? { ...item, data, ora, serv, nrPer , num, lib } : { data,ora,serv,nrPer,num,lib };\r\n        saveItem && saveItem(editedItem).then(() => history.goBack());\r\n    };\r\n    log('render');\r\n    return (\r\n        <IonPage>\r\n            <IonHeader>\r\n                <IonToolbar>\r\n                    <IonTitle>Edit</IonTitle>\r\n                    <IonButtons slot=\"end\">\r\n                        <IonButton onClick={handleSave}>\r\n                            Save\r\n                        </IonButton>\r\n                    </IonButtons>\r\n                </IonToolbar>\r\n            </IonHeader>\r\n            <IonContent>\r\n                <IonLabel>Data(LL/ZZ/AAAA) -> <IonInput value={data} onIonChange={e=>setData(e.detail.value || '')}/></IonLabel><br/>\r\n                <IonLabel>Ora(HH:MM) -> <IonInput value={ora} onIonChange={e=>setOra(e.detail.value || '')}/></IonLabel><br/>\r\n                <IonLabel>Serviciul -> <IonInput value={serv} onIonChange={e=>setServ(e.detail.value || '')}/></IonLabel><br/>\r\n                <IonLabel>Numarul Persoanelor -> <IonInput value={nrPer} onIonChange={e=>setNrP(e.detail.value || '')}/></IonLabel><br/>\r\n                <IonLabel>Numele -> <IonInput value={num} onIonChange={e=>setNum(e.detail.value || '')}/></IonLabel><br/>\r\n                <IonLabel>Liber(True/False) -> <IonInput value={lib} onIonChange={e=>setLib(e.detail.value || '')}/></IonLabel><br/>\r\n                <IonLoading isOpen={saving} />\r\n                {savingError && (\r\n                    <div>{savingError.message || 'Failed to save item'}</div>\r\n                )}\r\n            </IonContent>\r\n        </IonPage>\r\n    );\r\n};\r\n\r\nexport default ItemEdit;\r\n"]},"metadata":{},"sourceType":"module"}