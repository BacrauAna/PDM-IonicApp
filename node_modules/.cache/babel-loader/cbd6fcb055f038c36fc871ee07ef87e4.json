{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Anisoara Bacrau\\\\Desktop\\\\an3\\\\PDM\\\\ionic\\\\PDM-IonicApp\\\\src\\\\todo\\\\BeautyList.tsx\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { IonContent, IonFab, IonFabButton, IonHeader, IonIcon, IonLoading, IonPage, IonTitle, IonToolbar, IonButton, IonInfiniteScroll, IonInfiniteScrollContent, IonSelect, IonSelectOption, IonSearchbar } from \"@ionic/react\";\nimport { add } from \"ionicons/icons\";\nimport Beauty from \"./Beauty\";\nimport { getLogger } from \"../core\";\nimport { BeautyContext } from \"./BeautyProvider\";\nimport { AuthContext } from \"../auth/AuthProvider\";\nconst log = getLogger(\"BeautyList\");\n\nconst BeautyList = ({\n  history\n}) => {\n  const {\n    beauties,\n    fetching,\n    fetchingError\n  } = useContext(BeautyContext);\n  const [disableInfiniteScroll, setDisableInfiniteScroll] = useState(false);\n  const [filter, setFilter] = useState(undefined);\n  const [search, setSearch] = useState(\"\");\n  const [pos, setPos] = useState(20);\n  const selectOptions = [\"no\", \"yes\"];\n  const [beautiesShow, setBeautiesShow] = useState([]);\n  const {\n    logout\n  } = useContext(AuthContext);\n\n  const handleLogout = () => {\n    logout === null || logout === void 0 ? void 0 : logout();\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/login\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 16\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (beauties === null || beauties === void 0 ? void 0 : beauties.length) {\n      setBeautiesShow(beauties.slice(0, 20));\n    }\n  }, [beauties]);\n  log(\"render\");\n\n  async function searchNext($event) {\n    if (beauties && pos < beauties.length) {\n      setBeautiesShow([...beautiesShow, ...beauties.slice(pos, 21 + pos)]);\n      setPos(pos + 17);\n    } else {\n      setDisableInfiniteScroll(true);\n    }\n\n    $event.target.complete();\n  }\n\n  useEffect(() => {\n    if (filter && beauties) {\n      const boolType = filter === \"yes\";\n      setBeautiesShow(beauties.filter(beauty => beauty.ocupat === boolType));\n    }\n  }, [filter]);\n  useEffect(() => {\n    if (search && beauties) {\n      setBeautiesShow(beauties.filter(beauty => beauty.data.startsWith(search)));\n    }\n  }, [search]);\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"Beauties List\"))), /*#__PURE__*/React.createElement(IonContent, {\n    fullscreen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonLoading, {\n    isOpen: fetching,\n    message: \"Fetching beauties\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IonSearchbar, {\n    value: search,\n    debounce: 1000,\n    onIonChange: e => setSearch(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IonSelect, {\n    value: filter,\n    placeholder: \"Selection about disponibility\",\n    onIonChange: e => setFilter(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, selectOptions.map(option => /*#__PURE__*/React.createElement(IonSelectOption, {\n    key: option,\n    value: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, option))), beautiesShow && beautiesShow.map(beauty => {\n    return /*#__PURE__*/React.createElement(Beauty, {\n      key: beauty._id,\n      _id: beauty._id,\n      data: beauty.data,\n      ora: beauty.ora,\n      servicii: beauty.servicii,\n      nrPeroane: beauty.nrPeroane,\n      nume: beauty.nume,\n      ocupat: beauty.ocupat,\n      onEdit: id => history.push(`/beauty/${id}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    });\n  }), /*#__PURE__*/React.createElement(IonInfiniteScroll, {\n    threshold: \"100px\",\n    disabled: disableInfiniteScroll,\n    onIonInfinite: e => searchNext(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonInfiniteScrollContent, {\n    loadingText: \"Loading more good beauties...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  })), fetchingError && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, fetchingError.message || \"Failed to fetch beauties\"), /*#__PURE__*/React.createElement(IonFab, {\n    vertical: \"bottom\",\n    horizontal: \"end\",\n    slot: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    onClick: () => history.push(\"/beauty\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: add,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(IonButton, {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Logout\"));\n};\n\nexport default BeautyList; // import React, { useContext } from 'react';\n// import { RouteComponentProps } from 'react-router';\n// import {\n//     IonContent,\n//     IonFab,\n//     IonFabButton,\n//     IonHeader,\n//     IonIcon,\n//     IonList, IonLoading,\n//     IonPage,\n//     IonTitle,\n//     IonToolbar\n// } from '@ionic/react';\n// import { add } from 'ionicons/icons';\n// import Beauty from './Beauty';\n// import { getLogger } from '../core';\n// import { ItemContext } from './BeautyProvider';\n//\n// const log = getLogger('BeautyList');\n//\n// const BeautyList: React.FC<RouteComponentProps> = ({ history }) => {\n//     const { items, fetching, fetchingError } = useContext(ItemContext);\n//     log('render');\n//     return (\n//         <IonPage>\n//             <IonHeader>\n//                 <IonToolbar>\n//                     <IonTitle>Beauty Salon</IonTitle>\n//                 </IonToolbar>\n//             </IonHeader>\n//             <IonContent>\n//                 <IonLoading isOpen={fetching} message=\"Fetching items\" />\n//                 {items && (\n//                     <IonList>\n//                         {items.map(({ id, data,ora,serv,nrPer,num,lib}) =>\n//                             <Beauty key={id} id={id} data={data} ora={ora} serv={serv} nrPer={nrPer} num={num} lib={lib} onEdit={id => history.push(`/item/${id}`)} />)}\n//                     </IonList>\n//                 )}\n//                 {fetchingError && (\n//                     <div>{fetchingError.message || 'Failed to fetch items'}</div>\n//                 )}\n//                 <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n//                     <IonFabButton onClick={() => history.push('/item')}>\n//                         <IonIcon icon={add} />\n//                     </IonFabButton>\n//                 </IonFab>\n//             </IonContent>\n//         </IonPage>\n//     );\n// };\n//\n// export default BeautyList;","map":{"version":3,"sources":["C:/Users/Anisoara Bacrau/Desktop/an3/PDM/ionic/PDM-IonicApp/src/todo/BeautyList.tsx"],"names":["React","useContext","useState","useEffect","Redirect","IonContent","IonFab","IonFabButton","IonHeader","IonIcon","IonLoading","IonPage","IonTitle","IonToolbar","IonButton","IonInfiniteScroll","IonInfiniteScrollContent","IonSelect","IonSelectOption","IonSearchbar","add","Beauty","getLogger","BeautyContext","AuthContext","log","BeautyList","history","beauties","fetching","fetchingError","disableInfiniteScroll","setDisableInfiniteScroll","filter","setFilter","undefined","search","setSearch","pos","setPos","selectOptions","beautiesShow","setBeautiesShow","logout","handleLogout","pathname","length","slice","searchNext","$event","target","complete","boolType","beauty","ocupat","data","startsWith","e","detail","value","map","option","_id","ora","servicii","nrPeroane","nume","id","push","message"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA0BC,QAA1B,EAAoCC,SAApC,QAAoD,OAApD;AAEA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SACIC,UADJ,EAEIC,MAFJ,EAGIC,YAHJ,EAIIC,SAJJ,EAKIC,OALJ,EAOIC,UAPJ,EAQIC,OARJ,EASIC,QATJ,EAUIC,UAVJ,EAWIC,SAXJ,EAYIC,iBAZJ,EAaIC,wBAbJ,EAcIC,SAdJ,EAeIC,eAfJ,EAgBIC,YAhBJ,QAiBO,cAjBP;AAkBA,SAASC,GAAT,QAAoB,gBAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,SAAT,QAA0B,SAA1B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,SAASC,WAAT,QAA4B,sBAA5B;AAGA,MAAMC,GAAG,GAAGH,SAAS,CAAC,YAAD,CAArB;;AAEA,MAAMI,UAAyC,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AAC/D,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA;AAAtB,MAAwC7B,UAAU,CAACsB,aAAD,CAAxD;AACA,QAAM,CAACQ,qBAAD,EAAwBC,wBAAxB,IAAoD9B,QAAQ,CAC9D,KAD8D,CAAlE;AAGA,QAAM,CAAC+B,MAAD,EAASC,SAAT,IAAsBhC,QAAQ,CAAqBiC,SAArB,CAApC;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBnC,QAAQ,CAAS,EAAT,CAApC;AACA,QAAM,CAACoC,GAAD,EAAMC,MAAN,IAAgBrC,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAMsC,aAAa,GAAG,CAAC,IAAD,EAAO,KAAP,CAAtB;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCxC,QAAQ,CAAgB,EAAhB,CAAhD;AACA,QAAM;AAAEyC,IAAAA;AAAF,MAAa1C,UAAU,CAACuB,WAAD,CAA7B;;AACA,QAAMoB,YAAY,GAAG,MAAM;AACvBD,IAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM;AACN,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE;AAAEE,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAHD;;AAIA1C,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIyB,QAAJ,aAAIA,QAAJ,uBAAIA,QAAQ,CAAEkB,MAAd,EAAsB;AAClBJ,MAAAA,eAAe,CAACd,QAAQ,CAACmB,KAAT,CAAe,CAAf,EAAkB,EAAlB,CAAD,CAAf;AACH;AACJ,GAJQ,EAIN,CAACnB,QAAD,CAJM,CAAT;AAKAH,EAAAA,GAAG,CAAC,QAAD,CAAH;;AACA,iBAAeuB,UAAf,CAA0BC,MAA1B,EAAqD;AACjD,QAAIrB,QAAQ,IAAIU,GAAG,GAAGV,QAAQ,CAACkB,MAA/B,EAAuC;AACnCJ,MAAAA,eAAe,CAAC,CAAC,GAAGD,YAAJ,EAAkB,GAAGb,QAAQ,CAACmB,KAAT,CAAeT,GAAf,EAAoB,KAAKA,GAAzB,CAArB,CAAD,CAAf;AACAC,MAAAA,MAAM,CAACD,GAAG,GAAG,EAAP,CAAN;AACH,KAHD,MAGO;AACHN,MAAAA,wBAAwB,CAAC,IAAD,CAAxB;AACH;;AACAiB,IAAAA,MAAM,CAACC,MAAR,CAAgDC,QAAhD;AACH;;AAEDhD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI8B,MAAM,IAAIL,QAAd,EAAwB;AACpB,YAAMwB,QAAQ,GAAGnB,MAAM,KAAK,KAA5B;AACAS,MAAAA,eAAe,CAACd,QAAQ,CAACK,MAAT,CAAiBoB,MAAD,IAAYA,MAAM,CAACC,MAAP,KAAkBF,QAA9C,CAAD,CAAf;AACH;AACJ,GALQ,EAKN,CAACnB,MAAD,CALM,CAAT;AAOA9B,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIiC,MAAM,IAAIR,QAAd,EAAwB;AACpBc,MAAAA,eAAe,CAACd,QAAQ,CAACK,MAAT,CAAiBoB,MAAD,IAAYA,MAAM,CAACE,IAAP,CAAYC,UAAZ,CAAuBpB,MAAvB,CAA5B,CAAD,CAAf;AACH;AACJ,GAJQ,EAIN,CAACA,MAAD,CAJM,CAAT;AAKA,sBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CADJ,CADJ,eAOI,oBAAC,UAAD;AAAY,IAAA,UAAU,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEP,QAApB;AAA8B,IAAA,OAAO,EAAC,mBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,YAAD;AACI,IAAA,KAAK,EAAEO,MADX;AAEI,IAAA,QAAQ,EAAE,IAFd;AAGI,IAAA,WAAW,EAAGqB,CAAD,IAAOpB,SAAS,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAHjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAOI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAE1B,MADX;AAEI,IAAA,WAAW,EAAC,+BAFhB;AAGI,IAAA,WAAW,EAAGwB,CAAD,IAAOvB,SAAS,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAHjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKKnB,aAAa,CAACoB,GAAd,CAAmBC,MAAD,iBACf,oBAAC,eAAD;AAAiB,IAAA,GAAG,EAAEA,MAAtB;AAA8B,IAAA,KAAK,EAAEA,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,MADL,CADH,CALL,CAPJ,EAkBKpB,YAAY,IACbA,YAAY,CAACmB,GAAb,CAAkBP,MAAD,IAAyB;AACtC,wBACI,oBAAC,MAAD;AACI,MAAA,GAAG,EAAEA,MAAM,CAACS,GADhB;AAEI,MAAA,GAAG,EAAET,MAAM,CAACS,GAFhB;AAGI,MAAA,IAAI,EAAET,MAAM,CAACE,IAHjB;AAII,MAAA,GAAG,EAAEF,MAAM,CAACU,GAJhB;AAKI,MAAA,QAAQ,EAAEV,MAAM,CAACW,QALrB;AAMI,MAAA,SAAS,EAAEX,MAAM,CAACY,SANtB;AAOI,MAAA,IAAI,EAAEZ,MAAM,CAACa,IAPjB;AAQI,MAAA,MAAM,EAAEb,MAAM,CAACC,MARnB;AASI,MAAA,MAAM,EAAGa,EAAD,IAAQxC,OAAO,CAACyC,IAAR,CAAc,WAAUD,EAAG,EAA3B,CATpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAaH,GAdD,CAnBJ,eAkCI,oBAAC,iBAAD;AACI,IAAA,SAAS,EAAC,OADd;AAEI,IAAA,QAAQ,EAAEpC,qBAFd;AAGI,IAAA,aAAa,EAAG0B,CAAD,IAA0BT,UAAU,CAACS,CAAD,CAHvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,wBAAD;AAA0B,IAAA,WAAW,EAAC,+BAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CAlCJ,EAyCK3B,aAAa,iBACV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMA,aAAa,CAACuC,OAAd,IAAyB,0BAA/B,CA1CR,eA4CI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,QAAjB;AAA0B,IAAA,UAAU,EAAC,KAArC;AAA2C,IAAA,IAAI,EAAC,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAE,MAAM1C,OAAO,CAACyC,IAAR,CAAa,SAAb,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAEhD,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CA5CJ,CAPJ,eAyDI,oBAAC,SAAD;AAAY,IAAA,OAAO,EAAEwB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAzDJ,CADJ;AA6DH,CAxGD;;AA0GA,eAAelB,UAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, {useContext,useState, useEffect} from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {\r\n    IonContent,\r\n    IonFab,\r\n    IonFabButton,\r\n    IonHeader,\r\n    IonIcon,\r\n    IonList,\r\n    IonLoading,\r\n    IonPage,\r\n    IonTitle,\r\n    IonToolbar,\r\n    IonButton,\r\n    IonInfiniteScroll,\r\n    IonInfiniteScrollContent,\r\n    IonSelect,\r\n    IonSelectOption,\r\n    IonSearchbar,\r\n} from \"@ionic/react\";\r\nimport { add } from \"ionicons/icons\";\r\nimport Beauty from \"./Beauty\";\r\nimport { getLogger } from \"../core\";\r\nimport { BeautyContext } from \"./BeautyProvider\";\r\nimport { AuthContext } from \"../auth/AuthProvider\";\r\nimport { BeautyProps } from \"./BeautyProps\";\r\n\r\nconst log = getLogger(\"BeautyList\");\r\n\r\nconst BeautyList: React.FC<RouteComponentProps> = ({ history }) => {\r\n    const { beauties, fetching, fetchingError } = useContext(BeautyContext);\r\n    const [disableInfiniteScroll, setDisableInfiniteScroll] = useState<boolean>(\r\n        false\r\n    );\r\n    const [filter, setFilter] = useState<string | undefined>(undefined);\r\n    const [search, setSearch] = useState<string>(\"\");\r\n    const [pos, setPos] = useState(20);\r\n    const selectOptions = [\"no\", \"yes\"];\r\n    const [beautiesShow, setBeautiesShow] = useState<BeautyProps[]>([]);\r\n    const { logout } = useContext(AuthContext);\r\n    const handleLogout = () => {\r\n        logout?.();\r\n        return <Redirect to={{ pathname: \"/login\" }} />;\r\n    };\r\n    useEffect(() => {\r\n        if (beauties?.length) {\r\n            setBeautiesShow(beauties.slice(0, 20));\r\n        }\r\n    }, [beauties]);\r\n    log(\"render\");\r\n    async function searchNext($event: CustomEvent<void>) {\r\n        if (beauties && pos < beauties.length) {\r\n            setBeautiesShow([...beautiesShow, ...beauties.slice(pos, 21 + pos)]);\r\n            setPos(pos + 17);\r\n        } else {\r\n            setDisableInfiniteScroll(true);\r\n        }\r\n        ($event.target as HTMLIonInfiniteScrollElement).complete();\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (filter && beauties) {\r\n            const boolType = filter === \"yes\";\r\n            setBeautiesShow(beauties.filter((beauty) => beauty.ocupat === boolType));\r\n        }\r\n    }, [filter]);\r\n\r\n    useEffect(() => {\r\n        if (search && beauties) {\r\n            setBeautiesShow(beauties.filter((beauty) => beauty.data.startsWith(search)));\r\n        }\r\n    }, [search]);\r\n    return (\r\n        <IonPage>\r\n            <IonHeader>\r\n                <IonToolbar>\r\n                    <IonTitle>Beauties List</IonTitle>\r\n                    {/*<IonButton  onClick={handleLogout}>Logout</IonButton>*/}\r\n                </IonToolbar>\r\n            </IonHeader>\r\n            <IonContent fullscreen>\r\n                <IonLoading isOpen={fetching} message=\"Fetching beauties\" />\r\n                <IonSearchbar\r\n                    value={search}\r\n                    debounce={1000}\r\n                    onIonChange={(e) => setSearch(e.detail.value!)}\r\n                ></IonSearchbar>\r\n                <IonSelect\r\n                    value={filter}\r\n                    placeholder=\"Selection about disponibility\"\r\n                    onIonChange={(e) => setFilter(e.detail.value)}\r\n                >\r\n                    {selectOptions.map((option) => (\r\n                        <IonSelectOption key={option} value={option}>\r\n                            {option}\r\n                        </IonSelectOption>\r\n                    ))}\r\n                </IonSelect>\r\n                {beautiesShow &&\r\n                beautiesShow.map((beauty: BeautyProps) => {\r\n                    return (\r\n                        <Beauty\r\n                            key={beauty._id}\r\n                            _id={beauty._id}\r\n                            data={beauty.data}\r\n                            ora={beauty.ora}\r\n                            servicii={beauty.servicii}\r\n                            nrPeroane={beauty.nrPeroane}\r\n                            nume={beauty.nume}\r\n                            ocupat={beauty.ocupat}\r\n                            onEdit={(id) => history.push(`/beauty/${id}`)}\r\n                        />\r\n                    );\r\n                })}\r\n                <IonInfiniteScroll\r\n                    threshold=\"100px\"\r\n                    disabled={disableInfiniteScroll}\r\n                    onIonInfinite={(e: CustomEvent<void>) => searchNext(e)}\r\n                >\r\n                    <IonInfiniteScrollContent loadingText=\"Loading more good beauties...\"></IonInfiniteScrollContent>\r\n                </IonInfiniteScroll>\r\n                {fetchingError && (\r\n                    <div>{fetchingError.message || \"Failed to fetch beauties\"}</div>\r\n                )}\r\n                <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\r\n                    <IonFabButton onClick={() => history.push(\"/beauty\")}>\r\n                        <IonIcon icon={add} />\r\n                    </IonFabButton>\r\n                </IonFab>\r\n            </IonContent>\r\n            <IonButton  onClick={handleLogout}>Logout</IonButton>\r\n        </IonPage>\r\n    );\r\n};\r\n\r\nexport default BeautyList;\r\n\r\n// import React, { useContext } from 'react';\r\n// import { RouteComponentProps } from 'react-router';\r\n// import {\r\n//     IonContent,\r\n//     IonFab,\r\n//     IonFabButton,\r\n//     IonHeader,\r\n//     IonIcon,\r\n//     IonList, IonLoading,\r\n//     IonPage,\r\n//     IonTitle,\r\n//     IonToolbar\r\n// } from '@ionic/react';\r\n// import { add } from 'ionicons/icons';\r\n// import Beauty from './Beauty';\r\n// import { getLogger } from '../core';\r\n// import { ItemContext } from './BeautyProvider';\r\n//\r\n// const log = getLogger('BeautyList');\r\n//\r\n// const BeautyList: React.FC<RouteComponentProps> = ({ history }) => {\r\n//     const { items, fetching, fetchingError } = useContext(ItemContext);\r\n//     log('render');\r\n//     return (\r\n//         <IonPage>\r\n//             <IonHeader>\r\n//                 <IonToolbar>\r\n//                     <IonTitle>Beauty Salon</IonTitle>\r\n//                 </IonToolbar>\r\n//             </IonHeader>\r\n//             <IonContent>\r\n//                 <IonLoading isOpen={fetching} message=\"Fetching items\" />\r\n//                 {items && (\r\n//                     <IonList>\r\n//                         {items.map(({ id, data,ora,serv,nrPer,num,lib}) =>\r\n//                             <Beauty key={id} id={id} data={data} ora={ora} serv={serv} nrPer={nrPer} num={num} lib={lib} onEdit={id => history.push(`/item/${id}`)} />)}\r\n//                     </IonList>\r\n//                 )}\r\n//                 {fetchingError && (\r\n//                     <div>{fetchingError.message || 'Failed to fetch items'}</div>\r\n//                 )}\r\n//                 <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\r\n//                     <IonFabButton onClick={() => history.push('/item')}>\r\n//                         <IonIcon icon={add} />\r\n//                     </IonFabButton>\r\n//                 </IonFab>\r\n//             </IonContent>\r\n//         </IonPage>\r\n//     );\r\n// };\r\n//\r\n// export default BeautyList;\r\n"]},"metadata":{},"sourceType":"module"}